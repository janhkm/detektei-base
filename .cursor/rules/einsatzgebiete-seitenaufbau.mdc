# Einsatzgebiete Seitenaufbau – Goldstandard

Diese Rule definiert den **verbindlichen Aufbau** von Stadt- und Landkreis-Seiten für optimale SEO und Duplicate-Content-Vermeidung.

---

## 1. Seitenstruktur im Überblick

### Stadt-Seite (inkl. kreisfreie Städte)

```
┌─────────────────────────────────────────────────────────────┐
│ HERO SECTION                                                │
│ ├── Breadcrumbs                                             │
│ ├── H1 (variiert via getStadtH1)                           │
│ └── Intro-Text (variiert via getStadtIntroText)            │
├─────────────────────────────────────────────────────────────┤
│ MAIN CONTENT (2/3)              │ SIDEBAR (1/3)            │
│                                 │                          │
│ ├── KeyTakeaways               │ ├── CTABox               │
│ ├── Leistungen (H2)            │ ├── Info-Card            │
│ │   └── ServicesList x2        │ │   └── Landkreis, BL    │
│ ├── Ablauf (H2)                │ │       PLZ              │
│ │   └── ProcessTimeline        │ └── Trust Badges         │
│ ├── Warum lokal (H2) ⭐        │                          │
│ │   └── WarumLokal             │                          │
│ ├── Typische Fälle (H2) ⭐     │                          │
│ │   └── TypischeFaelle         │                          │
│ ├── Kosten (H2)                │                          │
│ │   └── PriceTable             │                          │
│ ├── Rechtliche Grundlagen ⭐   │                          │
│ │   └── RechtlicheHinweise     │                          │
│ ├── Nahegelegene Städte        │                          │
│ │   └── NearbyLocations        │                          │
│ └── FAQ (H2)                   │                          │
│     └── FAQAccordion (12 FAQs) │                          │
└─────────────────────────────────────────────────────────────┘
```

### Landkreis-Seite

```
┌─────────────────────────────────────────────────────────────┐
│ HERO SECTION                                                │
│ ├── Breadcrumbs                                             │
│ ├── H1 (variiert via getLandkreisH1)                       │
│ └── Intro-Text (variiert via getLandkreisIntroText)        │
├─────────────────────────────────────────────────────────────┤
│ FULL WIDTH CONTENT                                          │
│                                                             │
│ ├── KeyTakeaways                                            │
│ ├── Städte im Landkreis (H2) – Verlinkungen                │
│ │   └── Grid mit Links zu Stadt-Seiten                     │
│ ├── Kleine Gemeinden (Info-Box)                            │
│ ├── Leistungen (H2)                                        │
│ │   └── ServicesList x2                                    │
│ ├── Warum lokal (H2) ⭐                                    │
│ │   └── WarumLokal                                         │
│ ├── Typische Fälle (H2) ⭐                                 │
│ │   └── TypischeFaelle                                     │
│ ├── Kosten (H2)                                            │
│ │   └── PriceTable                                         │
│ ├── Rechtliche Grundlagen (H2) ⭐                          │
│ │   └── RechtlicheHinweise                                 │
│ ├── FAQ (H2)                                               │
│ │   └── FAQAccordion (10 FAQs)                             │
│ └── CTA Box                                                │
└─────────────────────────────────────────────────────────────┘
```

⭐ = Neue Sektionen für mehr Content

---

## 2. Content-Varianten System

### Warum Varianten?
Um **Duplicate Content** zu vermeiden, werden alle dynamischen Texte über das Varianten-System in `src/lib/content-variants.ts` generiert.

### Verfügbare Varianten-Funktionen

| Funktion | Beschreibung | Varianten |
|----------|--------------|-----------|
| `getStadtH1()` | H1 für Stadt-Seiten | 4-6 je nach Stadtgröße |
| `getStadtIntroText()` | Intro-Absatz | 6 Varianten |
| `getStadtTitle()` | Meta-Title | 5 Varianten |
| `getStadtMetaDescription()` | Meta-Description | 5-6 Varianten |
| `getLandkreisH1()` | H1 für Landkreis | 5 Varianten |
| `getLandkreisIntroText()` | Intro-Absatz | 5 Varianten |
| `getLandkreisTitle()` | Meta-Title | 4 Varianten |
| `getLandkreisMetaDescription()` | Meta-Description | 5 Varianten |
| `getWarumLokalText()` | "Warum lokal" Absatz | 4 Varianten (Stadt/LK) |
| `getTypischeFaelleText()` | Fallbeispiele | 3 Sets à 4 Fälle |
| `getRechtlicheHinweise()` | Rechtliche Infos | 3 Intro-Varianten |

### Verwendung im Code

```tsx
import {
  getStadtH1,
  getStadtIntroText,
  getWarumLokalText,
  getTypischeFaelleText,
  getRechtlicheHinweise,
} from "@/lib/content-variants";

// In der Page-Komponente:
const seed = stadt.slug + stadt.id; // Deterministischer Seed
const h1 = getStadtH1(stadt, bundesland);
const introText = getStadtIntroText(stadt, bundesland);
const warumLokalText = getWarumLokalText(stadt.name, false, seed);
const typischeFaelle = getTypischeFaelleText(stadt.name, false, seed);
const rechtlicheHinweise = getRechtlicheHinweise(stadt.name, seed);
```

### Deterministischer Hash
Die Varianten-Auswahl basiert auf einem **deterministischen Hash** aus dem Seed-String. Das bedeutet:
- Gleicher Seed → Gleiche Variante (konsistent bei Rebuilds)
- Verschiedene Städte → Verschiedene Varianten (keine Duplicates)

---

## 3. FAQ-System

### Anzahl FAQs

| Seitentyp | Anzahl FAQs |
|-----------|-------------|
| Stadt-Seite | 12 FAQs |
| Landkreis-Seite | 10 FAQs |
| Bundesland-Seite | 5 FAQs |

### FAQ-Funktionen

```tsx
import { getStadtFAQs, getLandkreisFAQs, getBundeslandFAQs } from "@/lib/faqs";

// Stadt: 12 FAQs
const faqs = getStadtFAQs(stadt, bundesland);

// Landkreis: 10 FAQs
const faqs = getLandkreisFAQs(landkreis, bundesland);
```

### FAQ-Kategorien (Stadt)

1. Kosten
2. Seriöser Detektiv
3. Gerichtsverwertbarkeit
4. Schnelligkeit
5. Leistungen
6. Diskretion
7. Dauer einer Ermittlung ⭐
8. Keine Beweise gefunden ⭐
9. Zeuge vor Gericht ⭐
10. Fortschritt-Updates ⭐
11. Anonyme Beauftragung
12. Kontakt

---

## 4. Komponenten

### Neue Komponenten

| Komponente | Pfad | Beschreibung |
|------------|------|--------------|
| `TypischeFaelle` | `components/einsatzgebiete/TypischeFaelle.tsx` | 4 anonymisierte Fallbeispiele |
| `WarumLokal` | `components/einsatzgebiete/WarumLokal.tsx` | Vorteile lokaler Detektei |
| `RechtlicheHinweise` | `components/einsatzgebiete/RechtlicheHinweise.tsx` | Erlaubt/Verboten Listen |

### Bestehende Komponenten

| Komponente | Beschreibung |
|------------|--------------|
| `KeyTakeaways` | TL;DR Box am Anfang |
| `ServicesList` | Privat- und Wirtschaftsermittlungen |
| `ProcessTimeline` | 5-Schritte Ablauf |
| `PriceTable` | Kosten-Übersicht |
| `FAQAccordion` | Aufklappbare FAQs |
| `NearbyLocations` | Links zu nahen Städten |
| `CTABox` | Call-to-Action |

---

## 5. SEO-Checkliste

### Pflicht-Elemente pro Seite

- [ ] **H1** variiert via Content-Varianten
- [ ] **Meta-Title** variiert (< 60 Zeichen)
- [ ] **Meta-Description** variiert (< 160 Zeichen)
- [ ] **Intro-Text** variiert
- [ ] **KeyTakeaways** Box
- [ ] **Mindestens 800 Wörter** Fließtext
- [ ] **10-12 FAQs** mit FAQ-Schema
- [ ] **JSON-LD Schemas**: Breadcrumb, LocalBusiness, FAQPage, WebPage
- [ ] **Interne Links** zu nahen Städten/Landkreisen
- [ ] **"Kurz:" Definitionen** bei jedem H2

### Content-Sektionen (Minimum)

| Sektion | Pflicht? |
|---------|----------|
| Hero + Intro | ✅ |
| KeyTakeaways | ✅ |
| Leistungen | ✅ |
| Ablauf (nur Stadt) | ✅ |
| Warum lokal | ✅ |
| Typische Fälle | ✅ |
| Kosten + Tabelle | ✅ |
| Rechtliche Hinweise | ✅ |
| FAQ | ✅ |
| CTA | ✅ |

---

## 6. Dateien-Übersicht

```
src/
├── app/einsatzgebiete/
│   ├── page.tsx                              # Übersicht
│   └── bundesland/
│       └── [bundesland]/
│           ├── page.tsx                      # Bundesland-Seite
│           └── [landkreisOderStadt]/
│               ├── page.tsx                  # Landkreis ODER kreisfreie Stadt
│               └── [stadt]/
│                   └── page.tsx              # Stadt im Landkreis
│
├── components/einsatzgebiete/
│   ├── ServicesList.tsx
│   ├── ProcessTimeline.tsx
│   ├── NearbyLocations.tsx
│   ├── TypischeFaelle.tsx                   # NEU
│   ├── WarumLokal.tsx                       # NEU
│   └── RechtlicheHinweise.tsx               # NEU
│
└── lib/
    ├── content-variants.ts                   # Alle Varianten-Funktionen
    ├── faqs.ts                               # FAQ-Generatoren
    └── schemas/
        └── einsatzgebiete.ts                 # JSON-LD Schemas
```

---

## 7. Duplicate Content Check

Nach Änderungen an Einsatzgebiete-Seiten IMMER prüfen:

```bash
npm run check:duplicates
```

### Erwartetes Ergebnis

```
✅ Keine kritischen Duplicate Content Probleme gefunden!
```

Falls Probleme:
1. Prüfen ob neue Texte in `content-variants.ts` eingefügt wurden
2. Sicherstellen dass dynamische Variablen (`{h1}`) verwendet werden
3. Mehr Varianten hinzufügen falls nötig
